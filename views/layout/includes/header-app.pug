//- Header Public Component
//- This component includes the main header and categories navigation

//- Main Header
header(class="bg-black py-4 px-4 sm:px-6 lg:px-8 shadow-md")
    div(class="container mx-auto flex flex-col md:flex-row justify-between items-center")  
        a(href="/" class="flex items-center")
            svg(class="w-8 h-8 text-white mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6")
            h1(class="text-2xl text-white font-extrabold") Real
                span(class="font-normal") State
        
        //- Mobile menu button
        button(class="md:hidden mt-4 bg-gray-800 p-2 rounded-lg text-white" id="mobile-menu-button")
            svg(class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16")
        
        nav(class="my-5 w-full md:w-auto text-sm md:flex md:items-center md:gap-6 font-medium text-white hidden" id="navigation-menu")
            a(href="/auth/register" class="block py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors mb-2 md:mb-0") 
                div(class="flex items-center gap-2")
                    svg(class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                        path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z")
                    span Crear cuenta
            
            a(href="/auth/login" class="block py-2 px-4 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors") 
                div(class="flex items-center gap-2")
                    svg(class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                        path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1")
                    span Iniciar sesión

// Replace the Categories Navigation section with this updated version that works on mobile

//- Categories Navigation (now visible on all devices)
div(class="bg-gray-900 py-4 px-4 sm:px-6 lg:px-8 shadow-md")
    div(class="container mx-auto")
        //- Categories toggle button (mobile only)
        button(class="lg:hidden w-full flex items-center justify-between bg-black text-white py-2 px-4 rounded-lg mb-4" id="categories-toggle")
            span(class="font-medium") Categorías y búsqueda
            svg(class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7")
        
        div(class="hidden lg:flex flex-col md:flex-row justify-between items-center gap-4" id="categories-content")
            //- Categories navigation
            div(class="w-full lg:w-auto mb-4 lg:mb-0")
                h3(class="text-white text-sm font-bold uppercase mb-2 lg:hidden") Categorías</h3>
                nav(class="flex flex-wrap gap-2 md:gap-4 items-center")
                    a(href="/categories/1" class="text-sm font-medium uppercase text-white px-3 py-1 rounded-lg hover:bg-black transition-colors flex items-center gap-1")
                        svg(class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4")
                        span Pisos
                    
                    a(href="/categories/2" class="text-sm font-medium uppercase text-white px-3 py-1 rounded-lg hover:bg-black transition-colors flex items-center gap-1")
                        svg(class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6")
                        span Casas
                    
                    a(href="/categories/3" class="text-sm font-medium uppercase text-white px-3 py-1 rounded-lg hover:bg-black transition-colors flex items-center gap-1")
                        svg(class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4")
                        span Locales
                    
                    a(href="/categories/4" class="text-sm font-medium uppercase text-white px-3 py-1 rounded-lg hover:bg-black transition-colors flex items-center gap-1")
                        svg(class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z")
                        path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z")
                        span Terrenos
            
            //- Search form
            div(class="w-full lg:w-auto")
                h3(class="text-white text-sm font-bold uppercase mb-2 lg:hidden") Búsqueda</h3>
                form(action="/search" method="POST" class="flex gap-2 items-center")
                    input(type="hidden" name="_csrf" value= csrfToken)
                    div(class="relative flex-1")
                        svg(class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z")
                        input(type="text" id="search" name="search" placeholder="Buscar propiedades..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-600 shadow-sm")
                    
                    button(type="submit" class="flex items-center gap-2 bg-black hover:bg-gray-800 rounded-lg text-white font-medium px-4 py-2 text-sm transition-colors")
                        svg(class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
                            path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z")
                        span Buscar

//- Mobile menu toggle script
script.
    document.addEventListener('DOMContentLoaded', function() {
        // Toggle mobile menu
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        if (mobileMenuButton) {
            mobileMenuButton.addEventListener('click', function() {
                const menu = document.getElementById('navigation-menu');
                menu.classList.toggle('hidden');
            });
        }

        // Toggle categories and search
        const categoriesToggle = document.getElementById('categories-toggle');
        if (categoriesToggle) {
            categoriesToggle.addEventListener('click', function() {
                const categoriesContent = document.getElementById('categories-content');
                categoriesContent.classList.toggle('hidden');
                
                // Change the arrow icon based on state
                const arrow = this.querySelector('svg');
                if (categoriesContent.classList.contains('hidden')) {
                    arrow.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>';
                } else {
                    arrow.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path>';
                }
            });
        }
    });
